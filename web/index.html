<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPUs Per Student</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
    <style>
        .tooltip-trigger {
            cursor: help;
            border-bottom: 1px dotted #666;
            position: relative;
        }

        .tooltip-trigger:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: #fff;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 12px;
            white-space: pre-line;
            width: 300px;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            line-height: 1.4;
        }

        .asterisk {
            color: #888;
            font-size: 0.8em;
            vertical-align: super;
        }

        .chart-wrapper {
            height: 700px;
            overflow-y: auto;
            overflow-x: hidden;
            margin-bottom: 40px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .chart-container {
            position: relative;
            width: 100%;
        }

        th.sortable {
            cursor: pointer;
            user-select: none;
            transition: background 0.2s;
        }

        th.sortable:hover {
            background: #ddd !important;
        }

        th.sorted-asc::after {
            content: ' ▲';
            font-size: 0.8em;
        }

        th.sorted-desc::after {
            content: ' ▼';
            font-size: 0.8em;
        }

        .sources-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #fff;
            color: #333;
            padding: 25px;
            border-radius: 12px;
            max-width: 900px;
            max-height: 90vh;
            /* Slightly more height */
            overflow: auto;
            z-index: 2000;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
        }

        .sources-popup.active {
            display: block;
        }

        .sources-popup h3 {
            margin-top: 0;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }

        .popup-charts-container {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .popup-chart-wrapper {
            flex: 1;
            min-width: 300px;
        }

        .chart-box {
            height: 250px;
            position: relative;
            background: #f9f9f9;
            border-radius: 8px;
            padding: 10px;
        }

        .sources-popup ul {
            padding-left: 20px;
        }

        .sources-popup li {
            margin-bottom: 8px;
            word-break: break-all;
        }

        .sources-popup a {
            color: #0066cc;
            word-break: break-all;
        }

        .download-btn {
            background: #333;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin-top: 15px;
        }

        .download-btn:hover {
            background: #555;
        }

        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1999;
        }

        .overlay.active {
            display: block;
        }

        .gpus-cell {
            cursor: pointer;
        }

        .gpus-cell:hover {
            text-decoration: underline;
        }

        .sources-count {
            display: block;
            font-size: 0.85em;
            color: #666;
        }

        .favicon {
            width: 16px;
            height: 16px;
            margin-right: 8px;
            vertical-align: middle;
            border-radius: 2px;
        }

        td a {
            display: inline-flex;
            align-items: center;
        }

        .about-link {
            position: relative;
            cursor: pointer;
            text-decoration: underline;
        }

        .about-popup {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: #fff;
            color: #333;
            padding: 20px;
            border-radius: 8px;
            width: 400px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            font-size: 14px;
            line-height: 1.6;
            text-align: left;
        }

        .about-link:hover .about-popup,
        .about-link.active .about-popup {
            display: block;
        }

        .about-popup p {
            margin: 0 0 12px 0;
        }

        .about-popup p:last-child {
            margin-bottom: 0;
        }
    </style>
</head>

<body>

    <div class="container">
        <header style="display: flex; flex-direction: column;">
            <div class="logo">GPUsPerStudent.org</div>
            <p class="tagline" style="margin-top: 25px; margin-bottom: 25px;">Our goal is to do the best we can to track
                the actual amount of GPU compute available to degree program CS students in America. By measuring this
                tightly, we can shed light on the severity of the <i>"GPU famine"</i> that most CS students deal with
                everyday, which if not fixed will lead to a <i>"brain drain"</i> in academia. And since industry doesnt
                publish research anymore in America, this will lead to a severe reduction in the quality and quantity in
                academic research in America.
                We are committed to transparency and accuracy, and we welcome all feedback from the community.
            </p>
            <div class="header-nav" style="display: flex; gap: 40px;">
                <span class="about-link">About Us
                    <div class="about-popup">
                        <p><strong>Why GPUsPerStudent.org?</strong></p>
                        <p>After a spirited debate following my first-order analysis (<a
                                href="https://x.com/francoischauba1/status/1997095264923078856">see
                                post</a>), I wanted to do a deeper analysis and incorporate all the feedback into a
                            second-order attempt. This website tracks a metric and leaderboard for GPU access at
                            universities.</p>
                        <p>Shedding light on a problem often fixes the problem. Most people do not know how poor the
                            situation is, so as a PhD student paying for my own compute out of pocket, I thought it
                            would be a good idea to provide hard data on the problem.</p>
                        <p>It is critical for students to have access to GPUs: (1) to learn and (2) to conduct research.
                            If we want more of both, we need more GPUs for students in America!</p>
                        <p>No effort online has made a real attempt to show the severity of the current GPU drought. So
                            this is my best attempt. All feedback is welcome. We use GitHub for all PRs and issue
                            tracking.</p>
                    </div>
                </span>
                <span class="about-link">Calculation
                    <div class="about-popup" style="width: 500px;">
                        <p><strong>Data Collection (3 LLM Ensemble)</strong></p>
                        <p>Each university is researched by 3 AI models in parallel:</p>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li><strong>OpenAI GPT-5.2</strong> with web search</li>
                            <li><strong>Anthropic Claude Opus 4</strong> with web search</li>
                            <li><strong>Google Gemini 2.0</strong> with grounding</li>
                        </ul>
                        <p>Results are aggregated using max values to ensure completeness.</p>

                        <p><strong>Validation Pass</strong></p>
                        <p>A separate Gemini pass filters out shared/national resources:</p>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>OSC (Ohio Supercomputer Center)</li>
                            <li>NCAR-Wyoming Supercomputing Center</li>
                            <li>TACC (Texas Advanced Computing Center)</li>
                            <li>DOE National Labs (NERSC, ORNL, etc.)</li>
                        </ul>

                        <p><strong>What We Exclude</strong></p>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Compute behind grant application walls</li>
                            <li>Resources the university doesn't own/operate</li>
                            <li>Exception: Free cloud credits available without application</li>
                        </ul>

                        <p><strong>H100-Equiv. Calculation</strong></p>
                        <p>Total GPU Value = Σ (GPU count × market price)<br>
                            H100-Equiv = Total Value ÷ $35,000</p>

                        <p><strong>Student Weighting</strong></p>
                        <ul style="margin: 8px 0; padding-left: 20px;">
                            <li>Undergrad CS: 0.45× (basic coursework)</li>
                            <li>Master's CS: 0.70× (research projects)</li>
                            <li>PhD CS: 0.90× (heavy research computing)</li>
                        </ul>

                        <p><strong>Final Metric</strong></p>
                        <p>GPUs/Student = H100-Equiv ÷ Weighted Students</p>

                        <p><strong>Disclaimer</strong></p>
                        <p>We dont claim to be perfect. Not from a strategy perspective nor an execution standpoint. We
                            accept any and all constructive criticism. If you think we made an error or you believe you
                            have better data or a better way of doing things we would love to hear about it. You can do
                            so via the Dispute PR which will bring you to our GitHub. You can submit a PR and we will
                            review. </p>

                    </div>
                </span>
                <a href="https://github.com/Fchaubard/GPUsPerStudent.org/pulls" target="_blank">Dispute via PR</a>
                <a href="data/master_data.csv" target="_blank">Raw Data</a>
            </div>
        </header>

        <section>
            <h2>H100-Equiv. GPUs Per CS Student</h2>
            <div class="chart-wrapper">
                <div class="chart-container">
                    <canvas id="chart"></canvas>
                </div>
            </div>
        </section>

        <section>
            <h2>Leaderboard</h2>
            <div class="table-wrapper">
                <table class="leaderboard-table" id="leaderboard">
                    <thead>
                        <tr>
                            <th class="sortable" data-key="Rank">Rank</th>
                            <th class="sortable" data-key="university">University</th>
                            <th class="sortable tooltip-trigger" data-key="weighted_students" data-tooltip="Weighted Student Count = (Undergrad CS × 0.45) + (Master's CS × 0.7) + (PhD CS × 0.9)

Weights reflect GPU usage intensity:
• Undergrads: 45% - Basic coursework
• Master's: 70% - Research projects
• PhD: 90% - Heavy research computing

Data from: Department websites, DataUSA, enrollment reports">Weighted CS Students<span class="asterisk">*</span></th>
                            <th class="sortable tooltip-trigger" data-key="h100_equivalent" data-tooltip="H100-Equivalent = Total GPU Value ÷ $35,000

Normalizes all GPU types to H100 units:
• H100 SXM: 1.0x ($35,000)
• H200: 1.14x ($40,000)
• A100 80GB: 0.43x ($15,000)
• V100: 0.10x ($3,500)

Data from: HPC cluster pages, research computing docs">H100-Equiv. Available<span class="asterisk">*</span></th>
                            <th class="sortable sorted-desc tooltip-trigger" data-key="gpus_per_student" data-tooltip="GPUs Per Student = H100-Equivalent ÷ Weighted Students

Higher = more compute resources per student

Ensemble methodology:
• 3 AI models (OpenAI, Claude, Gemini) search independently
• Results aggregated, highest values used
• All source URLs validated for accessibility">GPUs/Student<span class="asterisk">*</span></th>
                        </tr>
                    </thead>
                    <tbody id="leaderboard-body">
                    </tbody>
                </table>
            </div>
        </section>

        <footer>
            <p>Data updated monthly by AI Agents. Last update: <span id="last-update">December, 14 2025</span></p>
        </footer>
    </div>

    <div class="overlay" id="overlay" onclick="closePopup()"></div>
    <div class="sources-popup" id="sources-popup">
        <h3 id="popup-title">Sources</h3>

        <div class="popup-charts-container">
            <div class="popup-chart-wrapper">
                <h4>Student Enrollment</h4>
                <div class="chart-box">
                    <canvas id="student-chart"></canvas>
                </div>
            </div>
            <div class="popup-chart-wrapper">
                <h4>GPU Resources</h4>
                <div class="chart-box">
                    <canvas id="gpu-chart"></canvas>
                </div>
            </div>
        </div>

        <h4>Data Sources</h4>
        <ul id="sources-list"></ul>
        <button class="download-btn" id="download-btn">Download Full JSON</button>
    </div>

    <script>
        let chartInstance = null;
        let allData = [];
        let currentSort = { key: 'gpus_per_student', desc: true };
        let jsonCache = {};

        async function loadData() {
            try {
                const response = await fetch('data/master_data.csv');
                const text = await response.text();
                parseCSV(text);
            } catch (error) {
                console.error('Error loading CSV:', error);
            }
        }

        function parseCSV(text) {
            const lines = text.trim().split('\n');
            const headers = lines[0].split(',').map(h => h.trim());

            allData = lines.slice(1).map((line, index) => {
                const regex = /,(?=(?:(?:[^"]*"){2})*[^"]*$)/;
                const values = line.split(regex).map(v => v.replace(/^"|"$/g, '').trim());

                let entry = { Rank: index + 1 };
                headers.forEach((h, i) => {
                    entry[h] = values[i];
                });
                return entry;
            });

            renderDashboard();
        }

        function renderDashboard() {
            renderChart(allData);  // Show ALL universities
            renderLeaderboard(allData);
            setupSorting();
        }

        function getFaviconUrl(url) {
            try {
                const domain = new URL(url).hostname;
                return `https://www.google.com/s2/favicons?domain=${domain}&sz=32`;
            } catch (e) {
                return '';
            }
        }

        function getJsonFilename(university) {
            // Convert to filename format: spaces -> underscores, remove special chars
            return university.replace(/[,'"]/g, '').replace(/\s+/g, '_').replace(/-/g, '_-_') + '.json';
        }

        function renderChart(data) {
            const ctx = document.getElementById('chart').getContext('2d');

            // Set dynamic height: 30px per bar
            const chartHeight = Math.max(700, data.length * 30);
            document.querySelector('.chart-container').style.height = chartHeight + 'px';

            const labels = data.map(d => d.university);
            const values = data.map(d => parseFloat(d.gpus_per_student) || 0);

            // Gradient from black to gray
            const colors = data.map((_, i) => {
                const ratio = i / (data.length - 1);
                const gray = Math.round(20 + ratio * 150);
                return `rgb(${gray}, ${gray}, ${gray})`;
            });

            if (chartInstance) {
                chartInstance.destroy();
            }

            Chart.register(ChartDataLabels);

            chartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'H100-Equiv GPUs Per Student',
                        data: values,
                        backgroundColor: colors,
                        borderColor: '#000',
                        borderWidth: 1
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    layout: {
                        padding: { left: 0, right: 50, top: 10, bottom: 10 }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: (ctx) => ctx.parsed.x.toFixed(3) + ' H100-equiv GPUs/student'
                            }
                        },
                        datalabels: {
                            anchor: 'end',
                            align: 'right',
                            color: '#333',
                            font: { weight: 'bold', size: 14 },
                            formatter: (value) => value.toFixed(2)
                        }
                    },
                    scales: {
                        x: {
                            beginAtZero: true,
                            grid: { color: 'rgba(0,0,0,0.1)' },
                            ticks: { callback: (v) => v.toFixed(1) }
                        },
                        y: {
                            ticks: {
                                font: { size: 12 },
                                padding: 0
                            },
                            grid: { display: false },
                            afterFit: (scale) => {
                                scale.width = 200;  // Fixed width for y-axis labels
                            }
                        }
                    }
                }
            });
        }

        function renderLeaderboard(data) {
            const tbody = document.getElementById('leaderboard-body');
            tbody.innerHTML = '';

            data.forEach((d, index) => {
                const weightedStudents = parseFloat(d.weighted_students) || 0;
                const h100Equiv = parseFloat(d.h100_equivalent) || 0;
                const gpuPerStudent = parseFloat(d.gpus_per_student) || 0;
                const sources = parseInt(d.sources) || 0;
                const url = d.url || '#';
                const faviconUrl = getFaviconUrl(url);

                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>
                        <a href="${url}" target="_blank">
                            <img src="${faviconUrl}" class="favicon" onerror="this.style.display='none'" alt="">
                            ${d.university}
                        </a>
                    </td>
                    <td>${weightedStudents.toLocaleString()}</td>
                    <td>${h100Equiv.toLocaleString()}</td>
                    <td class="gpus-cell" onclick="showSources('${d.university.replace(/'/g, "\\'")}')">
                        <strong>${gpuPerStudent.toFixed(3)}</strong>
                        <span class="sources-count">(sources: ${sources})</span>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function setupSorting() {
            const headers = document.querySelectorAll('th.sortable');
            headers.forEach(th => {
                th.onclick = () => {
                    const key = th.dataset.key;

                    if (currentSort.key === key) {
                        currentSort.desc = !currentSort.desc;
                    } else {
                        currentSort.key = key;
                        currentSort.desc = true;
                    }

                    headers.forEach(h => h.classList.remove('sorted-asc', 'sorted-desc'));
                    th.classList.add(currentSort.desc ? 'sorted-desc' : 'sorted-asc');

                    allData.sort((a, b) => {
                        let aVal = a[key];
                        let bVal = b[key];
                        const aNum = parseFloat(aVal);
                        const bNum = parseFloat(bVal);

                        if (!isNaN(aNum) && !isNaN(bNum)) {
                            return currentSort.desc ? bNum - aNum : aNum - bNum;
                        }
                        aVal = (aVal || '').toString().toLowerCase();
                        bVal = (bVal || '').toString().toLowerCase();
                        return currentSort.desc ? bVal.localeCompare(aVal) : aVal.localeCompare(bVal);
                    });

                    // Update both leaderboard AND chart
                    renderLeaderboard(allData);
                    renderChart(allData);  // Show ALL universities
                };
            });
        }

        let studentChartInstance = null;
        let gpuChartInstance = null;

        async function showSources(university) {
            const popup = document.getElementById('sources-popup');
            const list = document.getElementById('sources-list');
            const title = document.getElementById('popup-title');
            const downloadBtn = document.getElementById('download-btn');

            title.textContent = university + ' - Sources';
            list.innerHTML = '<li>Loading...</li>';

            // Clear previous charts
            if (studentChartInstance) {
                studentChartInstance.destroy();
                studentChartInstance = null;
            }
            if (gpuChartInstance) {
                gpuChartInstance.destroy();
                gpuChartInstance = null;
            }

            // Clear canvases to be safe
            const studentCanvas = document.getElementById('student-chart');
            const gpuCanvas = document.getElementById('gpu-chart');
            // Cloning node to remove old event listeners/Chart.js attachments if destroy failed? 
            // Usually destroy() is enough.

            popup.classList.add('active');
            document.getElementById('overlay').classList.add('active');

            // Try to load JSON - use proper filename format matching Python script
            const filename = university.replace(/[,'"]/g, '').replace(/\s+/g, '_').replace(/-/g, '_-_');
            const jsonUrl = `data/${filename}.json`;

            try {
                const response = await fetch(jsonUrl);
                if (!response.ok) throw new Error('Not found');

                const data = await response.json();
                jsonCache[university] = data;

                // Render Charts
                renderStudentChart(data.student_data);
                renderGpuChart(data.gpu_resources);

                const sources = data.sources || [];
                if (sources.length === 0) {
                    list.innerHTML = '<li>No sources available</li>';
                } else {
                    list.innerHTML = sources.map(s => {
                        const url = s.url || s;
                        const desc = s.data_found ? `<br><small style="color:#666">${s.data_found.substring(0, 100)}...</small>` : '';
                        return `<li><a href="${url}" target="_blank">${url}</a>${desc}</li>`;
                    }).join('');
                }

                downloadBtn.onclick = () => downloadJSON(university, data);

            } catch (e) {
                console.error('Error loading JSON:', e, jsonUrl);
                list.innerHTML = `<li>Could not load sources. File: ${filename}.json</li>`;
                downloadBtn.onclick = () => alert('JSON not available');
            }
        }

        function renderStudentChart(studentData) {
            const canvas = document.getElementById('student-chart');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            if (!studentData) return;

            const labels = ['Undergrad CS', 'Master\'s CS', 'PhD CS'];
            const values = [
                studentData.undergrad_cs_count || 0,
                studentData.grad_cs_count || 0,
                studentData.phd_cs_count || 0
            ];

            studentChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Students',
                        data: values,
                        backgroundColor: '#000000',
                        borderRadius: 4,
                        barPercentage: 0.6
                    }]
                },
                plugins: [ChartDataLabels],
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: true },
                        datalabels: {
                            color: '#FFFFFF',
                            anchor: 'end',
                            align: 'start',
                            offset: 4,
                            font: { weight: 'bold', size: 11 },
                            formatter: (value) => value > 0 ? value.toLocaleString() : '',
                            display: (ctx) => ctx.dataset.data[ctx.dataIndex] > 0
                        }
                    },
                    scales: {
                        x: { beginAtZero: true, grid: { display: false }, ticks: { display: false } },
                        y: { grid: { display: false }, ticks: { color: '#333', font: { weight: '500' } } }
                    }
                }
            });
        }

        function renderGpuChart(gpuData) {
            const canvas = document.getElementById('gpu-chart');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            if (!gpuData) return;

            // Define GPU types to show
            const gpuTypes = [
                { key: 'h100_sxm_count', label: 'H100 SXM' },
                { key: 'h100_pcie_count', label: 'H100 PCIe' },
                { key: 'h200_count', label: 'H200' },
                { key: 'gh200_count', label: 'GH200' },
                { key: 'b200_count', label: 'B200' },
                { key: 'b100_count', label: 'B100' },
                { key: 'a100_80gb_count', label: 'A100 80GB' },
                { key: 'a100_40gb_count', label: 'A100 40GB' },
                { key: 'v100_count', label: 'V100' },
                { key: 'p100_count', label: 'P100' },
                { key: 'l40s_count', label: 'L40S' },
                { key: 'a6000_count', label: 'A6000' }
            ];

            const labels = [];
            const values = [];

            // Sort by count descending for better viz
            const activeGpus = [];
            gpuTypes.forEach(type => {
                const count = gpuData[type.key] || 0;
                if (count > 0) {
                    activeGpus.push({ label: type.label, count: count });
                }
            });

            // Sort
            activeGpus.sort((a, b) => b.count - a.count);

            if (activeGpus.length === 0) {
                labels.push('No Data');
                values.push(0);
            } else {
                activeGpus.forEach(g => {
                    labels.push(g.label);
                    values.push(g.count);
                });
            }

            gpuChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Count',
                        data: values,
                        backgroundColor: '#000000',
                        borderRadius: 4,
                        barPercentage: 0.6
                    }]
                },
                plugins: [ChartDataLabels],
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: true },
                        datalabels: {
                            color: '#FFFFFF',
                            anchor: 'end',
                            align: 'start',
                            offset: 4,
                            font: { weight: 'bold', size: 11 },
                            formatter: (value) => value > 0 ? value.toLocaleString() : '',
                            display: (ctx) => ctx.dataset.data[ctx.dataIndex] > 0
                        }
                    },
                    scales: {
                        x: { beginAtZero: true, grid: { display: false }, ticks: { display: false } },
                        y: { grid: { display: false }, ticks: { color: '#333', font: { weight: '500' } } }
                    }
                }
            });
        }

        function downloadJSON(university, data) {
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = university.replace(/\s+/g, '_') + '.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        function closePopup() {
            document.getElementById('sources-popup').classList.remove('active');
            document.getElementById('overlay').classList.remove('active');
        }

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closePopup();
        });

        // Toggle popups on click for mobile
        document.querySelectorAll('.about-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.stopPropagation();
                // Close other popups
                document.querySelectorAll('.about-link').forEach(other => {
                    if (other !== link) other.classList.remove('active');
                });
                // Toggle this one
                link.classList.toggle('active');
            });
        });

        // Close popups when clicking outside
        document.addEventListener('click', () => {
            document.querySelectorAll('.about-link').forEach(link => {
                link.classList.remove('active');
            });
        });

        loadData();
    </script>
</body>

</html>